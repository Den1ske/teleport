<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Extract - Teleport for MODX</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Extract";
    var mkdocs_page_input_path = "use\\extract.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Teleport for MODX</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Introduction</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../contribute/">Contribute</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Extend</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../extend/custom-actions/">Custom Actions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../extend/custom-extract-tpls/">Custom Extract tpls</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Install</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../install/git-clone/">Teleport Source Installation via _Git Clone_</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/phar/">Teleport Phar Installation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/releases/">Teleport Source Installation via _Releases_</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Use</span>
    <ul class="subnav">
                <li class=" current">
                    
    <a class="current" href="./">Extract</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#extract">Extract</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#extract-a-teleport-package-from-a-modx-site">Extract a Teleport Package from a MODX Site</a></li>
        
            <li><a class="toctree-l4" href="#the-extract-action">The Extract Action</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../inject/">Inject</a>
                </li>
                <li class="">
                    
    <a class="" href="../profile/">Profile</a>
                </li>
                <li class="">
                    
    <a class="" href="../push/">Push</a>
                </li>
                <li class="">
                    
    <a class="" href="../server/">Teleport HTTP Server</a>
                </li>
                <li class="">
                    
    <a class="" href="../user-create/">UserCreate</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Extract</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="tpl/">Extract tpls</a>
                </li>
                <li class="toctree-l3">
                    
    <span class="caption-text">Tpl</span>
    <ul class="subnav">
                <li class="toctree-l4">
                    
    <a class="" href="tpl/resource_children/">resource_children.tpl.json</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Packages</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../packages/gc/">Packages/GC</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Workspace</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../workspace/gc/">Workspace/GC</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Teleport for MODX</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Use &raquo;</li>
        
      
    
    <li>Extract</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/modxcms/teleport/edit/master/docs/use/extract.md"> Edit on modxcms/teleport</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="extract">Extract</h1>
<p>The Teleport Extract Action is an extremely flexible transport packaging tool for MODX Revolution.</p>
<h2 id="extract-a-teleport-package-from-a-modx-site">Extract a Teleport Package from a MODX Site</h2>
<p>You can Extract a Teleport package from a MODX site using the following command:</p>
<pre><code>php teleport.phar --action=Extract --profile=profile/mysite.profile.json --tpl=phar://teleport.phar/tpl/complete.tpl.json
</code></pre>
<p>The package will be located in the workspace/ directory if it is created successfully.</p>
<p>You can also Extract a Teleport package and push it to any valid stream target using the following command:</p>
<pre><code>php teleport.phar --action=Extract --profile=profile/mysite.profile.json --tpl=phar://teleport.phar/tpl/complete.tpl.json --target=s3://mybucket/snapshots/ --push
</code></pre>
<p>In either case, the absolute path to the package is returned by the process as the final output. You can use this as the path for an Inject source.</p>
<p><em>NOTE: The workspace copy is removed after it is pushed unless you pass --preserveWorkspace to the CLI command.</em></p>
<h2 id="the-extract-action">The Extract Action</h2>
<h3 id="required-arguments">Required Arguments</h3>
<ul>
<li><code>--profile=path</code> - A valid stream path to a Teleport <a href="../profile/">Profile</a>. This defines the MODX instance the Extract is to be performed against.</li>
<li><code>--tpl=path</code> - A valid stream path to a Teleport <a href="tpl/">Extract tpl</a> which defines the extraction process.</li>
</ul>
<h3 id="optional-arguments">Optional Arguments</h3>
<ul>
<li><code>--name=name</code> - Override the name of the created Teleport package signature. By default the profile <code>code</code> and tpl <code>name</code> are concatenated with an <code>_</code> to form the package name.</li>
<li><code>--version=version</code> - A valid version string (not including the release data) for the created Teleport package signature. By default the current time is used in the format <code>%y%m%d.%H%M.%S</code>.</li>
<li><code>--release=release</code> - A valid release string for the created Teleport package signature. By default the <code>full_version</code> of the site identified by the profile is used. If a <code>version</code> is provided, but no release is, no release is added to the package signature.</li>
<li><code>--target=path</code> - A valid stream path to a folder where the extracted package should be pushed.</li>
<li><code>--push</code> - Indicates if the extracted package should be pushed to the target.</li>
<li><code>--preserveWorkspace</code> - Indicates if the workspace/ copy of the package should be removed after being pushed to a target.</li>
</ul>
<p><em>NOTE: Individual Extract tpls can use any additional arguments passed to the command line as value replacements in the tpl. See documentation for specific tpls to see what additional arguments, if any, that tpl supports.</em></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../inject/" class="btn btn-neutral float-right" title="Inject">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../install/releases/" class="btn btn-neutral" title="Teleport Source Installation via _Releases_"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../../install/releases/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../inject/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
