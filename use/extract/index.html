<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>Extract - Teleport for MODX</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Teleport for MODX</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Installation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../install/releases">Install from Release</a>
                        </li>
                    
                        <li >
                            <a href="../../install/git-clone">Install from Git</a>
                        </li>
                    
                        <li >
                            <a href="../../install/phar">Install Phar</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../profile">Profile</a>
                        </li>
                    
                        <li class="active">
                            <a href=".">Extract</a>
                        </li>
                    
                        <li >
                            <a href="../inject">Inject</a>
                        </li>
                    
                        <li >
                            <a href="../push">Push</a>
                        </li>
                    
                        <li >
                            <a href="../user-create">User Create</a>
                        </li>
                    
                        <li >
                            <a href="../packages/gc">Garbage Collection</a>
                        </li>
                    
                        <li >
                            <a href="../server">Server</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extract Tpls <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="tpl">Intro to Extract Tpls</a>
                        </li>
                    
                        <li >
                            <a href="tpl/resource_children">resource_children.tpl</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extend <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../extend/custom-actions">Custom Actions</a>
                        </li>
                    
                        <li >
                            <a href="../../extend/custom-extract-tpls">Custom Extract Tpls</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../contribute">Contributing</a>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li >
                    <a rel="next" href="../profile">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../inject">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/modxcms/teleport/">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#extract">Extract</a></li>
        
            <li><a href="#extract-a-teleport-package-from-a-modx-site">Extract a Teleport Package from a MODX Site</a></li>
        
            <li><a href="#the-extract-action">The Extract Action</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="extract">Extract</h1>
<p>The Teleport Extract Action is an extremely flexible transport packaging tool for MODX Revolution.</p>
<h2 id="extract-a-teleport-package-from-a-modx-site">Extract a Teleport Package from a MODX Site</h2>
<p>You can Extract a Teleport package from a MODX site using the following command:</p>
<pre><code>php teleport.phar --action=Extract --profile=profile/mysite.profile.json --tpl=phar://teleport.phar/tpl/complete.tpl.json
</code></pre>
<p>The package will be located in the workspace/ directory if it is created successfully.</p>
<p>You can also Extract a Teleport package and push it to any valid stream target using the following command:</p>
<pre><code>php teleport.phar --action=Extract --profile=profile/mysite.profile.json --tpl=phar://teleport.phar/tpl/complete.tpl.json --target=s3://mybucket/snapshots/ --push
</code></pre>
<p>In either case, the absolute path to the package is returned by the process as the final output. You can use this as the path for an Inject source.</p>
<p><em>NOTE: The workspace copy is removed after it is pushed unless you pass --preserveWorkspace to the CLI command.</em></p>
<h2 id="the-extract-action">The Extract Action</h2>
<h3 id="required-arguments">Required Arguments</h3>
<ul>
<li><code>--profile=path</code> - A valid stream path to a Teleport <a href="../profile">Profile</a>. This defines the MODX instance the Extract is to be performed against.</li>
<li><code>--tpl=path</code> - A valid stream path to a Teleport <a href="tpl">Extract tpl</a> which defines the extraction process.</li>
</ul>
<h3 id="optional-arguments">Optional Arguments</h3>
<ul>
<li><code>--target=path</code> - A valid stream path to a folder where the extracted package should be pushed.</li>
<li><code>--push</code> - Indicates if the extracted package should be pushed to the target.</li>
<li><code>--preserveWorkspace</code> - Indicates if the workspace/ copy of the package should be removed after being pushed to a target.</li>
</ul>
<p><em>NOTE: Individual Extract tpls can use any additional arguments passed to the command line as value replacements in the tpl. See documentation for specific tpls to see what additional arguments, if any, that tpl supports.</em></p>
</div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>